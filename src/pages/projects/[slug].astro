---
// src/pages/projects/[slug].astro
import { getCollection, type CollectionEntry } from 'astro:content';
import Layout from '../../layauts/Layaut.astro';
import Header from '../../components/Header.astro'; // Añadimos el Header para una navegación consistente

export async function getStaticPaths() {
  const projects = await getCollection('projects');
  return projects.map(project => ({
    params: { slug: project.slug },
    props: { project },
  }));
}

const { project } = Astro.props as { project: CollectionEntry<'projects'> };
const { Content } = await project.render();
---
<Layout title={project.data.title}>
  <Header />

  <main class="max-w-4xl mx-auto px-6 py-32">
    
    <div class="text-center mb-12">
      <h1 class="text-4xl md:text-5xl font-bold text-text-primary mb-4">{project.data.title}</h1>
      <p class="text-lg md:text-xl text-text-secondary">{project.data.description}</p>
    </div>
    
    <div class="prose prose-invert max-w-none">
      <Content />
    </div>

    <div class="mt-16 text-center">
      <a href="/#projects" class="inline-block text-accent font-semibold border border-accent/40 rounded-full px-6 py-3 
                               transition-all duration-300 hover:bg-accent hover:text-background">
        &larr; Volver a Proyectos
      </a>
    </div>

  </main>
</Layout>

<style is:global>
  /* Estilos mejorados para el contenido del markdown */
  .prose {
    color: var(--color-text-primary);
  }
  .prose h2 {
    font-size: 2.25rem; /* 36px */
    line-height: 2.5rem; /* 40px */
    font-weight: 700;
    letter-spacing: -0.025em;
    margin-top: 3em;
    margin-bottom: 1.5em;
    padding-bottom: 0.5em;
    border-bottom: 1px solid #161B22; /* color 'surface' */
  }
  .prose h3 {
    font-size: 1.875rem; /* 30px */
    line-height: 2.25rem; /* 36px */
    font-weight: 600;
    margin-top: 2.5em;
    margin-bottom: 0.75em;
  }
  .prose h4 {
    font-size: 1.25rem; /* 20px */
    line-height: 1.75rem; /* 28px */
    font-weight: 600;
    margin-top: 2em;
    margin-bottom: 0.5em;
  }
  .prose p, .prose li, .prose ul {
    font-size: 1.125rem; /* 18px */
    line-height: 1.75;
    color: #8B949E; /* color 'text-secondary' */
  }
  .prose strong {
    color: #E6EDF3; /* color 'text-primary' */
  }
  .prose a {
    color: #2F81F7; /* color 'accent' */
    text-decoration: none;
    transition: all 0.2s ease-in-out;
  }
  .prose a:hover {
    text-decoration: underline;
  }
</style>